"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[63384],{50413:(e,t,s)=>{s.d(t,{A:()=>x});const a={container:"container_xt6w",linkContainer:"linkContainer_RYvw",iconContainer:"iconContainer_M3C8",demosTitle:"demosTitle_CEJp",codesTitle:"codesTitle_Z3_M",referencesTitle:"referencesTitle_uPPp"};var n=s(96540),i=s(40961),r=s(59856),d=s(83914),l=s(37875),o=s(66188),c=s(73906),h=s(74848);function p(e){let{demoLinks:t,codeLinks:s,referenceLinks:c}=e;const[p,x]=(0,n.useState)(null),[j]=(0,n.useState)((()=>document.createElement("div")));return(0,n.useEffect)((()=>{const e=document.querySelector(".theme-doc-toc-desktop");if(e?.parentElement){const t=e.parentElement;t.insertBefore(j,t.firstChild),x(j)}return()=>{j.remove()}}),[j]),(t||s||c)&&p?i.createPortal((0,h.jsx)("div",{className:a.container,children:(0,h.jsx)(r.A,{type:"note",title:"Relevant Links",children:(0,h.jsxs)("div",{className:a.linkContainer,children:[t&&t.length>0?(0,h.jsxs)("div",{className:a.demosContainer,children:[(0,h.jsxs)("div",{className:a.iconContainer,children:[(0,h.jsx)(d.g,{icon:o.CQO}),(0,h.jsx)("div",{className:a.demosTitle,children:"Live Demos"})]}),(0,h.jsx)("div",{style:{marginLeft:"23px"},children:t.map((e=>(0,h.jsx)("a",{target:"_blank",href:e.url,children:e.name})))})]}):null,s&&s.length>0?(0,h.jsxs)("div",{className:a.codesContainer,children:[(0,h.jsxs)("div",{className:a.iconContainer,children:[(0,h.jsx)(d.g,{icon:l.Vz1}),(0,h.jsx)("div",{className:a.codesTitle,children:"Demo Codes"})]}),(0,h.jsx)("div",{style:{marginLeft:"23px"},children:s.map((e=>(0,h.jsx)("a",{target:"_blank",href:e.url,children:e.name})))})]}):null,c&&c.length>0?(0,h.jsxs)("div",{className:a.referencesContainer,children:[(0,h.jsxs)("div",{className:a.iconContainer,children:[(0,h.jsx)(d.g,{icon:o.h8M}),(0,h.jsx)("div",{className:a.referencesTitle,children:"References"})]}),(0,h.jsx)("div",{style:{marginLeft:"23px"},children:c.map((e=>(0,h.jsx)("a",{target:"_blank",href:e.url,children:e.name})))})]}):null]})})}),p):null}const x=function(e){let{demoLinks:t,codeLinks:s,referenceLinks:a}=e;return(0,h.jsx)(c.A,{children:()=>(0,h.jsx)(p,{demoLinks:t,codeLinks:s,referenceLinks:a})})}},92241:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>d,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"analysis/data-export","title":"Data Export and Basic Analysis","description":"<StructuredLinks","source":"@site/docs/analysis/data-export.md","sourceDirName":"analysis","slug":"/analysis/data-export","permalink":"/docs/analysis/data-export","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docs","previous":{"title":"Trial Stats","permalink":"/docs/analysis/trial-stats"},"next":{"title":"Participant Replay","permalink":"/docs/analysis/participant-replay"}}');var n=s(74848),i=s(28453),r=s(50413);const d={sidebar_position:4},l="Data Export and Basic Analysis",o={},c=[{value:"Steps to Download Data",id:"steps-to-download-data",level:2},{value:"Example Workflow in R",id:"example-workflow-in-r",level:2},{value:"1. Install Necessary Packages",id:"1-install-necessary-packages",level:3},{value:"2. Read and Preview the Data",id:"2-read-and-preview-the-data",level:3},{value:"3. Filter Data for Task <code>q2</code>",id:"3-filter-data-for-task-q2",level:3},{value:"4. Create a Violin Plot",id:"4-create-a-violin-plot",level:3},{value:"5. Export the generated plot.",id:"5-export-the-generated-plot",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"data-export-and-basic-analysis",children:"Data Export and Basic Analysis"})}),"\n","\n",(0,n.jsx)(r.A,{demoLinks:[{name:"Brush Interactions Demo",url:"https://revisit.dev/study/analysis/stats/example-brush-interactions"}],codeLinks:[{name:"Survey Code",url:"https://github.com/revisit-studies/study/tree/main/public/example-brush-interactions"}],referenceLinks:[{name:"Tidy Data",url:"https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html"},{name:"R",url:"https://www.r-project.org/other-docs.html"},{name:"Jupyter",url:"https://docs.jupyter.org/en/latest/"}]}),"\n",(0,n.jsxs)(t.p,{children:["reVISit allows you to export in ",(0,n.jsx)(t.a,{href:"https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html",children:"Tidy"})," format for analysis in Python notebooks or R."]}),"\n",(0,n.jsx)(t.p,{children:"The exported tidy data includes all the responses from the participants, including the participant ID, trial ID, trial order, and response ID. Additionally, we provide the parameters and correct answers that were set in the study configuration file (or by dynamic block). This data can be used to analyze the performance of participants, the accuracy of responses, and the time taken to complete the study."}),"\n",(0,n.jsx)(t.p,{children:"The tidy data is missing some data that is available in the JSON download, such as the provenance graphs. If you need this data, you can download the JSON data and parse it in your analysis platform, instead of using this Tidy data."}),"\n",(0,n.jsx)(t.h2,{id:"steps-to-download-data",children:"Steps to Download Data"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Navigate to the ",(0,n.jsx)(t.strong,{children:"Analysis"})," platform for the current study."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Open the Table View, then click on the ",(0,n.jsx)(t.strong,{children:"Download all participants' data as a tidy CSV"})," button. Here's a ",(0,n.jsx)(t.a,{href:"https://revisit.dev/study/analysis/stats/example-brush-interactions/table",children:"direct link for the example below"}),"."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Tidy export",src:s(3176).A+"",width:"2680",height:"1366"})}),"\n",(0,n.jsxs)(t.ol,{start:"3",children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"CSV Explorer"})," will open, where you can select the columns to export. A preview of the first five rows of the output CSV will be displayed."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Once ready, click the ",(0,n.jsx)(t.strong,{children:"Download"})," button at the bottom right."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Tidy export",src:s(37399).A+"",width:"2680",height:"1469"})}),"\n",(0,n.jsxs)(t.p,{children:["After downloading the Tidy data, you can import it into  your favorite analysis platform for further analysis. Below is an example of how to work with exported data from the ",(0,n.jsx)(t.a,{href:"https://revisit.dev/study/example-brush-interactions",children:"Interactive Selections in Scatterplots"})," study in R."]}),"\n",(0,n.jsx)(t.admonition,{title:"What is Tidy data format?",type:"info",children:(0,n.jsxs)(t.p,{children:["Tidy data format is a structured approach to organizing tabular data where each variable is a column, each observation is a row, and each type of observational unit is a separate table.\nYou may check more details ",(0,n.jsx)(t.a,{href:"https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html",children:"Here"}),"."]})}),"\n",(0,n.jsx)(t.h2,{id:"example-workflow-in-r",children:"Example Workflow in R"}),"\n",(0,n.jsx)(t.h3,{id:"1-install-necessary-packages",children:"1. Install Necessary Packages"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-r",children:'list.of.packages <- c("ggplot2", "Hmisc")\nnew.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]\nif(length(new.packages)) install.packages(new.packages)\n\nlibrary(ggplot2)\n'})}),"\n",(0,n.jsx)(t.h3,{id:"2-read-and-preview-the-data",children:"2. Read and Preview the Data"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-r",children:'df <- read.csv("data/example-brush-interactions_all_tidy.csv")\nhead(df)\n'})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{}),(0,n.jsx)(t.th,{children:"participantId"}),(0,n.jsx)(t.th,{children:"trialId"}),(0,n.jsx)(t.th,{children:"trialOrder"}),(0,n.jsx)(t.th,{children:"responseId"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"1"}),(0,n.jsx)(t.td,{children:"017ab8bd-33d1-4f95-ac07-5fedef30928a"}),(0,n.jsx)(t.td,{children:"introduction"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsx)(t.td,{children:"prolificId"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"2"}),(0,n.jsx)(t.td,{children:"017ab8bd-33d1-4f95-ac07-5fedef30928a"}),(0,n.jsx)(t.td,{children:"consent"}),(0,n.jsx)(t.td,{children:"1"}),(0,n.jsx)(t.td,{children:"signature"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"3"}),(0,n.jsx)(t.td,{children:"017ab8bd-33d1-4f95-ac07-5fedef30928a"}),(0,n.jsx)(t.td,{children:"consent"}),(0,n.jsx)(t.td,{children:"1"}),(0,n.jsx)(t.td,{children:"accept"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"4"}),(0,n.jsx)(t.td,{children:"017ab8bd-33d1-4f95-ac07-5fedef30928a"}),(0,n.jsx)(t.td,{children:"paintBrush_q1"}),(0,n.jsx)(t.td,{children:"5"}),(0,n.jsx)(t.td,{children:"response"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"5"}),(0,n.jsx)(t.td,{children:"017ab8bd-33d1-4f95-ac07-5fedef30928a"}),(0,n.jsx)(t.td,{children:"paintBrush_q2"}),(0,n.jsx)(t.td,{children:"6"}),(0,n.jsx)(t.td,{children:"max-response"})]})]})]}),"\n",(0,n.jsxs)(t.h3,{id:"3-filter-data-for-task-q2",children:["3. Filter Data for Task ",(0,n.jsx)(t.code,{children:"q2"})]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-r",children:'q2 <- subset(df, grepl("_q2", trialId) & status == "completed")\nq2$isCorrect <- ifelse(q2$answer == q2$correctAnswer, 1, 0)\nq2 <- subset(df, grepl("_q2", trialId) & status == "completed")\nq2$isCorrect <- ifelse(q2$answer == q2$correctAnswer, 1, 0)\n'})}),"\n",(0,n.jsx)(t.h3,{id:"4-create-a-violin-plot",children:"4. Create a Violin Plot"}),"\n",(0,n.jsx)(t.p,{children:"The plot displays correct answers on the right and incorrect answers on the left."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-r",children:'ggplot(q2, aes(x = isCorrect, y = trialId)) +\n  geom_violin(aes(fill = trialId), color = "#888", alpha = 0.7) +\n  stat_summary(fun.data = "mean_cl_boot", colour = "#333", size = 0.5, alpha=0.5) +\n  theme_minimal() +\n  theme(legend.position = "none") +\n  labs(\n    title = "Violin Plot for q2 (Finding most/least value)",\n  )\n'})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Violin Plot",src:s(20069).A+"",width:"2260",height:"896"})}),"\n",(0,n.jsx)(t.p,{children:"We find accuracy using paint brush technique is much less than that of the others."}),"\n",(0,n.jsx)(t.h3,{id:"5-export-the-generated-plot",children:"5. Export the generated plot."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-r",children:'ggsave("plot.pdf", width = 5, height = 2, units = "in")\n'})})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},20069:(e,t,s)=>{s.d(t,{A:()=>a});const a=s.p+"assets/images/r-violin-plot-fde3fe7d5499ee8bb09f38fd148dc0c1.png"},3176:(e,t,s)=>{s.d(t,{A:()=>a});const a=s.p+"assets/images/tidy-export-1-5f4b791cf593fe619329ead05d9ca363.jpg"},37399:(e,t,s)=>{s.d(t,{A:()=>a});const a=s.p+"assets/images/tidy-export-2-b50a03eb4030efd2facf453d2178dc88.jpg"}}]);