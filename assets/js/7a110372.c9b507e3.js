"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[14821],{48985:(e,n,t)=>{t.d(n,{A:()=>m});const i={container:"container_xt6w",linkContainer:"linkContainer_RYvw",iconContainer:"iconContainer_M3C8",demosTitle:"demosTitle_CEJp",codesTitle:"codesTitle_Z3_M",referencesTitle:"referencesTitle_uPPp"};var a=t(96540),s=t(40961),o=t(27293),r=t(83914),l=t(37875),c=t(66188),d=t(78478),h=t(74848);function u({demoLinks:e,codeLinks:n,referenceLinks:t}){const[d,u]=(0,a.useState)(null),[m]=(0,a.useState)(()=>document.createElement("div"));return(0,a.useEffect)(()=>{const e=document.querySelector(".theme-doc-toc-desktop");if(e?.parentElement){const n=e.parentElement;n.insertBefore(m,n.firstChild),u(m)}return()=>{m.remove()}},[m]),(e||n||t)&&d?s.createPortal((0,h.jsx)("div",{className:i.container,children:(0,h.jsx)(o.A,{type:"note",title:"Relevant Links",children:(0,h.jsxs)("div",{className:i.linkContainer,children:[e&&e.length>0?(0,h.jsxs)("div",{className:i.demosContainer,children:[(0,h.jsxs)("div",{className:i.iconContainer,children:[(0,h.jsx)(r.g,{icon:c.CQO}),(0,h.jsx)("div",{className:i.demosTitle,children:"Live Demos"})]}),(0,h.jsx)("div",{style:{marginLeft:"23px"},children:e.map(e=>(0,h.jsx)("a",{target:"_blank",href:e.url,children:e.name}))})]}):null,n&&n.length>0?(0,h.jsxs)("div",{className:i.codesContainer,children:[(0,h.jsxs)("div",{className:i.iconContainer,children:[(0,h.jsx)(r.g,{icon:l.Vz1}),(0,h.jsx)("div",{className:i.codesTitle,children:"Demo Codes"})]}),(0,h.jsx)("div",{style:{marginLeft:"23px"},children:n.map(e=>(0,h.jsx)("a",{target:"_blank",href:e.url,children:e.name}))})]}):null,t&&t.length>0?(0,h.jsxs)("div",{className:i.referencesContainer,children:[(0,h.jsxs)("div",{className:i.iconContainer,children:[(0,h.jsx)(r.g,{icon:c.h8M}),(0,h.jsx)("div",{className:i.referencesTitle,children:"References"})]}),(0,h.jsx)("div",{style:{marginLeft:"23px"},children:t.map(e=>(0,h.jsx)("a",{target:"_blank",href:e.url,children:e.name}))})]}):null]})})}),d):null}const m=function({demoLinks:e,codeLinks:n,referenceLinks:t}){return(0,h.jsx)(d.A,{children:()=>(0,h.jsx)(u,{demoLinks:e,codeLinks:n,referenceLinks:t})})}},65413:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"data-and-deployment/authentication-authorization/firebase-user-management","title":"Firebase User Management","description":"<StructuredLinks","source":"@site/versioned_docs/version-v2.1.1/data-and-deployment/authentication-authorization/firebase-user-management.md","sourceDirName":"data-and-deployment/authentication-authorization","slug":"/data-and-deployment/authentication-authorization/firebase-user-management","permalink":"/docs/v2.1.1/data-and-deployment/authentication-authorization/firebase-user-management","draft":false,"unlisted":false,"tags":[],"version":"v2.1.1","frontMatter":{},"sidebar":"docs","previous":{"title":"Setting Up Authentication","permalink":"/docs/v2.1.1/data-and-deployment/authentication-authorization/adding-removing-ui"},"next":{"title":"Deploying To a Static Website","permalink":"/docs/v2.1.1/data-and-deployment/deploying-to-static-website"}}');var a=t(74848),s=t(28453),o=t(48985);const r={},l="Firebase User Management",c={},d=[{value:"<code>user-management</code> collection",id:"user-management-collection",level:2},{value:"How to Reset Authentication",id:"how-to-reset-authentication",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"firebase-user-management",children:"Firebase User Management"})}),"\n","\n",(0,a.jsx)(o.A,{referenceLinks:[{name:"Firebase Setup",url:"../../firebase-setup"},{name:"Firebase Authentication",url:"https://firebase.google.com/products/auth"},{name:"Firebase User Management",url:"../adding-removing-ui/#manage-administrators-in-revisit"}]}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["In general, we do not advise editing the user management data directly in the Firestore Database. This should only be used in cases where the security of the application has been compromised and there is no way to edit the user access within the reVISit application. Please see ",(0,a.jsx)(n.a,{href:"../adding-removing-ui",children:"here"})," for editing users within the reVISit UI"]})}),"\n",(0,a.jsx)(n.p,{children:"ReVISit allows you to handle all necessary user management from the reVISit UI. However, if you are ever in a situation where you have lost access to the reVISit application, you can still edit the user access via the Firestore."}),"\n",(0,a.jsxs)(n.h2,{id:"user-management-collection",children:[(0,a.jsx)(n.code,{children:"user-management"})," collection"]}),"\n",(0,a.jsxs)(n.p,{children:["In the Firebase application, you will see that your Firestore Database contains many different collections pertaining to the data collected for each study. There is an additional collection called ",(0,a.jsx)(n.code,{children:"user-management"}),". If authentication was enabled, you should see two documents in the collection labeled ",(0,a.jsx)(n.code,{children:"adminUsers"})," and ",(0,a.jsx)(n.code,{children:"authentication"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"adminUsers"})," will contain a single list called the ",(0,a.jsx)(n.code,{children:"adminUsersList"}),". Each entry of this list is of the following form:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "email": "myemail@gmail.com",\n    "uid": "<UID>"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"uid"})," is automatically generated when the user signs in for the first time. If the ",(0,a.jsx)(n.code,{children:"uid"})," field is ",(0,a.jsx)(n.code,{children:"null"}),", then that means the user has not yet signed in."]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"authentication"})," document will only contained the boolean ",(0,a.jsx)(n.code,{children:"isEnabled"}),". If this is set to ",(0,a.jsx)(n.code,{children:"false"}),", authentication is completely disabled but the users will not be removed from the ",(0,a.jsx)(n.code,{children:"adminUsers"})," collection."]}),"\n",(0,a.jsx)(n.h2,{id:"how-to-reset-authentication",children:"How to Reset Authentication"}),"\n",(0,a.jsx)(n.p,{children:"The easiest and cleanest way to reset the authentication is to essentially remove this collection. This will allow you to re-do the authentication process completely (i.e. enable authentication within the reVISit application and sign in as an administrator)."}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"If this step is necessary, we advise that you first remove this application from any public facing website. This is the same protocol when setting up authentication for the first time; ensure that there are no other unwanted users who can access the reVISit application while you set up authentication."})}),"\n",(0,a.jsxs)(n.p,{children:["Go into the Firestore Database and navigate to the ",(0,a.jsx)(n.code,{children:"user-management"})," collection. On this collection, you should see three vertical dots to the right. This will provide an option for deleting this collection."]}),"\n",(0,a.jsx)(n.p,{children:"Once the collection is deleted, your reVISit application will be ready to re-enable authentication."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}}}]);